<h4>Organizing a Share with {{otherUser.name}}: {{conversation.title}}</h4>

<table>
  <tbody>
    <tr><th>Title of Share</th><td>{{share.title}}</td></tr>
    <tr><th>Description of Share</th><td>{{share.description}}</td></tr>
  </tbody>
  <tbody ng-repeat="evnt in share.events">
    <tr>
      <th>Location</th>
      <td ng-show="evnt.location">{{evnt.location}}</td>
      <td ng-show="!evnt.location">No location chosen</td>
    </tr>
    <tr>
      <th>Starting</th>
      <td ng-show="evnt.datetime_start">{{evnt.datetime_start | date : 'EEEE d MMMM yyyy, h:mm a'}}</td>
      <td ng-show="!evnt.datetime_start">No starting time chosen</td>
    </tr>
    <tr>
      <th>Stopping</th>
      <td ng-show="evnt.datetime_stop">{{evnt.datetime_stop | date : 'EEEE d MMMM yyyy, h:mm a'}}</td>
      <td ng-show="!evnt.datetime_stop">No stopping time chosen</td>
    </tr>
  </tbody>
</table>
<button class="btn" type="submit" ng-click="editShare()"
        ng-disabled="newMessage.content">
  Edit Share Details
</button>
<button class="btn" type="submit" ng-click="confirmShare()"
        ng-disabled="newMessage.content">
  Confirm Share Details
</button>

<div ng-repeat="message in conversation.messages" class="conversation-block">
  <div class="conversation-sender">{{message.sender_user.name}}</div>
  <div class="conversation-message">{{message.content}}</div>
</div>

<form novalidate login-with-auto-fill
      action="" role="form" name="newConversationForm" class="form-horizontal">

  <div class="form-group">
    <label for="content"
           class="control-label">Message</label>
    <div class="">
      <textarea ng-model="newMessage.content"
                required
                name="content"
                id="content"
                class="form-control"
                type="text">
      </textarea>
      <p ng-show="newConversationForm.content.$invalid && !newConversationForm.content.$pristine"
         class="help-block">
        A message is required.
      </p>
    </div>
  </div>
  
  <div class="alert alert-danger" ng-show="errorMessage">
    {{errorMessage}}
  </div>
      
  <button class="btn" type="submit" ng-click="sendMessage()"
          ng-disabled="newConversationForm.$invalid">
    Send Message
  </button>

</form>
